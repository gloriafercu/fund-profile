<link rel="import" href="../../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../components/posicion-global-chart.html">
<link rel="import" href="../../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../../bower_components/iron-image/iron-image.html">
<link rel="import" href="../../../bower_components/iron-icons/iron-icons.html">

<link rel="import" href="../theme/shared-styles.html">


<dom-module id="posicion-global">
    <template>
        <style include="shared-styles">
            :host {
                display: block
            }
            .download-container{
                display: flex;
                flex-wrap: wrap;
                justify-content: space-between;
                width: 100%;
            }
            .download-container > *{
                width: 50%
            }
            a{
                font-size: 14px;
                color: #2A86CA;
                cursor: pointer;
                font-weight: bold;
                text-decoration: none;
            }
            iron-image {
                width: 100%;
                max-width: 564px;
                height: 115px;
                margin: 25px;
                text-align: center;
            }
            .span-pdf {
                display: flex;
                align-items: center;
                padding: 10px 0;
                align-items: flex-start
            }
            .pdf-icon{
                margin-right: 10px;
            }
            .print-icon{
                margin-right: 10px;
            }
            .download-size{
                font-weight: normal;
                color: #666666;
            }
            .column-pdf{
                display: flex;
                flex-direction: column;
            }
            .fund-h2{
                font-size: 16px;
                padding: 15px 11px;
                background-color: #e9e9e9;
            }
            p{
                color: #666;
                font-size: 14px;
                padding: 15px 0px 0 0px;
                margin: 0;
                line-height: 1.80em;
            }
            .box-end{
                color: #666;
                font-size: 14px;
                margin: 0;
                line-height: 1.80em;
                padding: 0;
            }
            .style-box{
                background-color: #D4EDFC;
                margin-block-start: 20px;
                margin-block-end: 50px;
                display: flex;
                align-items: flex-start;
                padding: 40px;
            }
            .msg{
                display: flex;
            }
            .info-icon{
                width: 25%;

            }
        </style>

        <div class="header-tab">
            <h2>Posición Global</h2>
            <paper-button class="blue">Exportar</paper-button>
        </div>    

        <p>Período consultado: [[datestart]] - [[dateend]]</p>
        <p>Última actualización: [[today]]</p>

        <posicion-global-chart 
            on-datestart-changed="dateStartChanged" 
            on-dateend-changed="dateEndChanged" 
            values="[[values]]" 
            name="[[name]]"
            today="[[today]]">
        </posicion-global-chart>

        <div class="download-container">

            <a class="span-pdf" href="https://www.bbvaassetmanagement.com/am/tlwgpub/informes/ES0113276002_FR2018032301.pdf" target="_blank">
                <iron-icon class="pdf-icon" icon="image:picture-as-pdf"></iron-icon>
                <div class="column-pdf">
                <span class="download-description">Datos Fundamentales Inversor </span>
                <span class="download-size"> (23/03/2018)</span>
                </div>
            </a>
            
            <a class="span-pdf" href="https://www.bbvaassetmanagement.com/am/tlwgpub/informes/ES0113276002_CA2018100101.pdf" target="_blank">
                <iron-icon class="pdf-icon" icon="image:picture-as-pdf"></iron-icon>
                <div class="column-pdf">
                <span class="download-description">Informacion de Producto</span>
                <span class="download-size">(01/10/2018)</span>
            </div>
            </a>
            <a class="span-pdf" href="https://www.bbvaassetmanagement.com/am/amspring/web/services/rest17/informesREST/getUnificarDocumentosFondos/194/ES/ES/ES/1" target="_blank">
                <iron-icon class="print-icon" icon="icons:print"></iron-icon>
                <span class="download-description">Imprimir Documentacion</span>
                <span class="download-size"></span>
            
            </a>
            <a class="span-pdf" href="https://www.bbvaassetmanagement.com/am/tlwgpub/informes/ES0113276002_FI2018123101.pdf" target="_blank">
                <iron-icon class="pdf-icon" icon="image:picture-as-pdf"></iron-icon>
                <div class="column-pdf">
                <span class="download-description">Ficha Mensual de Seguimiento</span>
                <span class="download-size">(31/12/2018)</span>
                </div>
            </a>
        </div>
        
        <div class="banner-container">
            <a class="aportaYa" href="https://www.bbva.es/productos/ficha/traspaso-de-fondos/t000000305" target="_blank">
                <iron-image sizing="contain" preload src="src\fund-profile-app\images\Banner.jpg" alt="[FIELDNAME_IMAGENALT]" title></iron-image>
            </a>
        </div>
        <a target="_blank" href="https://www.bbva.es/productos/ficha/traspaso-de-fondos/t000000305/&amp;amp;int=homefondos-vercondicionespromociontraspaso"
            style="color: #006DC0;position: relative;top: 5px;left: 10px;">Ver condiciones de la bonificación
        </a>
        <div class="plans-description">
            <h2 class="fund-h2">Descripcion</h2>
                <p>Fondo Monetario que invierte en activos de renta fija pública y privada denominados en EUR. La duración media de su
                    cartera es inferior o igual a 6 meses y los activos que la componen no superarán los 12 meses hasta el vencimiento.
                    El fondo no invierte en ABS.
                    <br>
                    Si desea más información consulte folleto informativo del fondo y datos de Interes
                </p>
                <p id="masobjetivo" style="display:none;">
                    La gestión toma como referencia el comportamiento del índice repo día sobre deuda pública española. El objetivo de
                    gestión es mantener el principal y obtener una rentabilidad acorde con los tipos del mercado monetario. Se invierte el
                    100% de la exposición total en instrumentos de mercado monetario cotizados y, hasta un 20%, en depósitos denominados en
                    euros, de emisores públicos o privados de la OCDE.
                </p>
                
                    <a on-click="moreInfo" id="linkmasinf" title="Más informacion">Más información
                    </a>
                </div>
            <div>
                <h2 class="fund-h2">Horizonte</h2>
                <p>Recomendado para posiciones a corto plazo</p>        
            </div>
        <div class="msg msg-info">
           <div class="style-box">
               <iron-icon class="info-icon" icon="icons:info"></iron-icon>
                <p class="box-end">El 25/10/2013 se modificó la vocación inversora del Fondo por ello sólo se muestra la evolución del valor liquidativo y
                rentabilidades a partir de esa fecha según artículo 60.3 del Real Decreto 217/2008, de 15 de febrero.</p>
            </div>
        </div>

    </template>

    <script>
        /**
         * `posicion-global` Description
         *
         * @summary ShortDescription.
         * @customElement
         * @polymer
         * @extends {Polymer.Element}
         */
        class PosicionGlobal extends Polymer.Element {
            /**
             * String providing the tag name to register the element under.
             */
            static get is() {
                return 'posicion-global';
            }
            /**
             * Object describing property-related metadata used by Polymer features
             */
            static get properties() {
                return {
                    
                      /**
                    * Array objects time (timestamp) financial value from fund.data
                    * @type Array[object]
                    */

                    values: Array,
                      /**
                    * From fund.name, name of the fund.
                    * @type String
                    */

                    name: String,
                       /**
                    * Date origin of calcs
                    * @type String
                    */

                    datestart: String, 

                       /**
                    * .Date end of calcs
                    * @type String
                    */
                    dateend: String
                };
            }

            /**
            * Fired when `posicion-global-chart` changes its date start.
            * format e.detail.value: string YYYY/MM/DD
            * @event datestart-changed
            * @param {string} date origin for calculations.
            */
            dateStartChanged (e) {
                this.datestart = e.detail.value
            }

             /**
            * Fired when `posicion-global-chart` changes its date start.
            * format e.detail.value:  string YYYY/MM/DD
            * @event dateend-changed
            * @param {string} date end for calculations.
            */
            dateEndChanged (e) {
                this.dateend = e.detail.value
            }

            moreInfo() {
                this.$.masobjetivo.style = "display:block";
                this.$.linkmasinf.style = "display:none";
            }

        }
        window.customElements.define(PosicionGlobal.is, PosicionGlobal);
    </script>
</dom-module>